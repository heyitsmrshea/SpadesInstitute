---
const { items = [] } = Astro.props;
const base = import.meta.env.BASE_URL.replace(/\/$/, '');
const siteUrl = import.meta.env.PUBLIC_SITE_URL || 'https://www.spadesinstitute.org';

// Generate BreadcrumbList structured data
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": items.map((item, index) => ({
    "@type": "ListItem",
    "position": index + 1,
    "name": item.label,
    "item": `${siteUrl}${item.href}`
  }))
};
---
<nav aria-label="Breadcrumb" class="bg-spades-paper border-b border-spades-border">
  <div class="max-w-6xl mx-auto px-6 py-3">
    <ol class="flex items-center gap-2 text-sm text-spades-muted">
      {items.map((item, i) => (
        <li class="flex items-center gap-2">
          {i > 0 && <span aria-hidden="true">/</span>}
          {i === items.length - 1 ? (
            <span class="text-spades-ink font-medium" aria-current="page">{item.label}</span>
          ) : (
            <a href={item.href} class="hover:text-spades-ink transition-colors">{item.label}</a>
          )}
        </li>
      ))}
    </ol>
  </div>
  <script type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />
</nav>

