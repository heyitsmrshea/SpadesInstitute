---
const { people = [], variant = 'card' } = Astro.props;
const isDark = variant === 'dark';
const base = import.meta.env.BASE_URL;
---
<div class="grid gap-10 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
  {people.map((person, i) => (
    <article
      class:list={[
        'group flex flex-col gap-4 motion-safe:animate-fadeUp transition-all duration-300 hover:-translate-y-2',
        isDark
          ? 'bg-transparent p-6'
          : 'bg-white border border-spades-border rounded-[1.25rem] p-6 shadow-card hover:shadow-xl'
      ]}
      style={`animation-delay: ${i * 100}ms`}
    >
      <div class:list={['flex items-center gap-4', isDark ? 'justify-center text-center flex-col' : '']}>
        <img
          src={`${base}${person.headshot.replace(/^\//, '')}`}
          alt={`${person.name} headshot`}
          loading="lazy"
          class:list={[
            'rounded-full object-cover transition-all duration-500 group-hover:scale-110 group-hover:shadow-2xl',
            isDark
              ? 'w-48 h-48 md:w-56 md:h-56 lg:w-64 lg:h-64 border-4 border-white/30 shadow-card'
              : 'w-24 h-24 md:w-28 md:h-28 border-2 border-spades-border grayscale hover:grayscale-0'
          ]}
        />
        <div>
          <p class:list={['text-lg font-semibold', isDark ? 'text-white underline underline-offset-6 decoration-white/30' : 'text-spades-ink']}>
            {person.name}
          </p>
          <p class:list={['text-sm', isDark ? 'text-white/80' : 'text-spades-muted']}>{person.role}</p>
        </div>
      </div>

      {!isDark && <p class="text-sm leading-relaxed text-spades-muted">{person.bio}</p>}

      {person.linkedin && (
        <div class:list={[isDark ? 'flex justify-center' : '']}>
          <a
            class:list={[
              'inline-flex items-center justify-center w-11 h-11 rounded-full border transition focus:outline-none focus-visible:ring-2',
              isDark ? 'border-white/25 text-white/90 hover:border-white focus-visible:ring-white/40' : 'border-spades-border text-spades-ink hover:border-spades-ink focus-visible:ring-spades-ink/30'
            ]}
            href={person.linkedin}
            target="_blank"
            rel="noreferrer"
            aria-label={`Open ${person.name} on LinkedIn`}
          >
            <svg viewBox="0 0 24 24" class:list={['w-4 h-4', isDark ? 'fill-white/90' : 'fill-spades-ink']} aria-hidden="true">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.35V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.6 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.063 2.063 0 114.126 0 2.062 2.062 0 01-2.063 2.065zM6.114 20.452H4.56V9h3.554v11.452H6.114zM22.225 0H1.771C.792 0 0 .774 0 1.727v20.545C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.273V1.727C24 .774 23.2 0 22.222 0h.003z" />
            </svg>
          </a>
        </div>
      )}
    </article>
  ))}
</div>
