---
const {
  eyebrow = 'DEMOCRACY · FREEDOM · ETHICS',
  title,
  description,
  primaryCta = { href: '/connect/', label: 'Partner with us' },
  secondaryCta,
  showMission = false
} = Astro.props;

const baseRaw = import.meta.env.BASE_URL || '/';
const base = baseRaw.endsWith('/') ? baseRaw : `${baseRaw}/`;

// Value propositions instead of long mission paragraphs
const valueProps = [
  { label: 'Trusted Convening', desc: 'Bringing together the right voices from government, industry, and academia' },
  { label: 'Practical Outcomes', desc: 'Delivering measurable results that strengthen U.S. security and resilience' },
  { label: 'Ethics First', desc: 'Operating with integrity, transparency, and commitment to democratic values' }
];
---
<section class="relative bg-spades-paper border-b border-spades-border overflow-hidden">
  <!-- Animated background pattern -->
  <div class="absolute inset-0 bg-hex-pattern opacity-60" aria-hidden="true"></div>
  <div class="absolute inset-0 bg-grid-animated opacity-40" aria-hidden="true"></div>
  
  <!-- Depth gradient overlay -->
  <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-spades-paper/80" aria-hidden="true"></div>
  
  <div class="max-w-5xl mx-auto px-6 py-16 md:py-24 relative">
    <div class="text-center">
      <!-- Flag and eyebrow with reveal animation -->
      <div class="mb-8 flex items-center justify-center gap-4 blur-reveal">
        <img
          src={`${base}flag-us.png`}
          alt="United States flag"
          width="96"
          height="51"
          loading="eager"
          class="h-14 md:h-16 w-auto rounded-sm border border-spades-border shadow-md transition-transform duration-300 hover:scale-105"
        />
        <span class="text-xs tracking-[0.3em] uppercase text-spades-muted font-medium">{eyebrow}</span>
      </div>

      <!-- Main heading with two-line staggered animation -->
      <h1 class="font-display text-3xl md:text-4xl lg:text-5xl leading-tight text-spades-text max-w-6xl mx-auto px-4">
        <span class="block hero-line-1 whitespace-nowrap">We connect government, industry, and academia</span>
        <span class="block hero-line-2">to solve national security priorities.</span>
      </h1>
      
      <style>
        .hero-line-1, .hero-line-2 {
          opacity: 0;
          transform: translateY(20px);
          animation: heroReveal 0.8s ease-out forwards;
        }
        .hero-line-1 {
          animation-delay: 0.2s;
        }
        .hero-line-2 {
          animation-delay: 0.5s;
        }
        @keyframes heroReveal {
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      </style>

      <!-- Description with staggered reveal -->
      <p class="mt-5 text-lg md:text-xl text-spades-text-secondary max-w-2xl mx-auto leading-relaxed reveal-up">
        {description}
      </p>

      <!-- CTAs with enhanced styling -->
      <div class="mt-10 flex flex-wrap gap-4 justify-center reveal-up">
        <a
          href={primaryCta.href}
          target={primaryCta.href.startsWith('http') ? '_blank' : undefined}
          rel={primaryCta.href.startsWith('http') ? 'noreferrer' : undefined}
          class="btn btn-primary btn-shimmer btn-glow"
        >
          {primaryCta.label}
        </a>
        {secondaryCta && (
          <a
            href={secondaryCta.href}
            target={secondaryCta.href.startsWith('http') ? '_blank' : undefined}
            rel={secondaryCta.href.startsWith('http') ? 'noreferrer' : undefined}
            class="btn btn-secondary"
          >
            {secondaryCta.label}
          </a>
        )}
      </div>
    </div>

    <!-- Value propositions with alternating reveal animations -->
    {showMission && (
      <div class="mt-16 pt-12 border-t border-spades-border">
        <div class="grid md:grid-cols-3 gap-8 stagger-children">
          {valueProps.map((prop, i) => (
            <div class={`text-center md:text-left reveal-up`}>
              <h3 class="text-base font-semibold text-spades-text mb-2">{prop.label}</h3>
              <p class="text-sm text-spades-text-secondary leading-relaxed">{prop.desc}</p>
            </div>
          ))}
        </div>
      </div>
    )}
  </div>
  
  <!-- Bottom glow accent -->
  <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-1/2 h-px bg-gradient-to-r from-transparent via-spades-accent/20 to-transparent" aria-hidden="true"></div>
</section>

