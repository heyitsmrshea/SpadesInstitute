---
const {
  eyebrow = 'DEMOCRACY · FREEDOM · ETHICS',
  title,
  description,
  primaryCta = { href: 'https://givebutter.com/spadesinstitute', label: 'Donate' },
  secondaryCta,
  showMission = false
} = Astro.props;

const baseRaw = import.meta.env.BASE_URL || '/';
const base = baseRaw.endsWith('/') ? baseRaw : `${baseRaw}/`;

// Value propositions instead of long mission paragraphs
const valueProps = [
  { label: 'Trusted Convening', desc: 'Bringing together the right voices from government, industry, and academia' },
  { label: 'Practical Outcomes', desc: 'Delivering measurable results that strengthen U.S. security and resilience' },
  { label: 'Ethics First', desc: 'Operating with integrity, transparency, and commitment to democratic values' }
];
---
<section class="relative bg-spades-paper border-b border-spades-border">
  <!-- Subtle pattern background -->
  <div class="absolute inset-0 opacity-[0.03]" style="background-image: radial-gradient(circle at 1px 1px, rgba(17,24,39,1) 1px, transparent 0); background-size: 24px 24px;" aria-hidden="true"></div>
  
  <div class="max-w-5xl mx-auto px-6 py-16 md:py-20 relative">
    <div class="text-center motion-safe:animate-fadeUp">
      <!-- Flag and eyebrow -->
      <div class="mb-6 flex items-center justify-center gap-4">
        <img
          src={`${base}flag-us.png`}
          alt="United States flag"
          width="64"
          height="34"
          loading="eager"
          class="h-8 w-auto rounded-sm border border-spades-border shadow-sm"
        />
        <span class="text-xs tracking-[0.3em] uppercase text-spades-muted">{eyebrow}</span>
      </div>

      <!-- Main heading -->
      <h1 class="font-display text-3xl md:text-4xl lg:text-5xl leading-tight text-spades-text max-w-4xl mx-auto">
        {title}
      </h1>

      <!-- Description -->
      <p class="mt-4 text-lg md:text-xl text-spades-text-secondary max-w-2xl mx-auto leading-relaxed">
        {description}
      </p>

      <!-- CTAs -->
      <div class="mt-8 flex flex-wrap gap-4 justify-center">
        <a
          href={primaryCta.href}
          target={primaryCta.href.startsWith('http') ? '_blank' : undefined}
          rel={primaryCta.href.startsWith('http') ? 'noreferrer' : undefined}
          class="btn btn-primary"
        >
          {primaryCta.label}
        </a>
        {secondaryCta && (
          <a
            href={secondaryCta.href}
            target={secondaryCta.href.startsWith('http') ? '_blank' : undefined}
            rel={secondaryCta.href.startsWith('http') ? 'noreferrer' : undefined}
            class="btn btn-secondary"
          >
            {secondaryCta.label}
          </a>
        )}
      </div>
    </div>

    <!-- Value propositions -->
    {showMission && (
      <div class="mt-12 pt-10 border-t border-spades-border">
        <div class="grid md:grid-cols-3 gap-8">
          {valueProps.map((prop, i) => (
            <div class="text-center md:text-left motion-safe:animate-fadeIn" style={`animation-delay: ${i * 100}ms`}>
              <h3 class="text-base font-semibold text-spades-text mb-2">{prop.label}</h3>
              <p class="text-sm text-spades-text-secondary leading-relaxed">{prop.desc}</p>
            </div>
          ))}
        </div>
      </div>
    )}
  </div>
</section>
