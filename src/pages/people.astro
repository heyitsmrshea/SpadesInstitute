---
import Layout from '../components/Layout.astro';
import PeopleGrid from '../components/PeopleGrid.astro';
import Breadcrumbs from '../components/Breadcrumbs.astro';
import people from '../data/people.json';
const base = import.meta.env.BASE_URL.replace(/\/$/, '');
const siteUrl = import.meta.env.PUBLIC_SITE_URL || 'https://HeyItsMrShea.github.io';

// Group people by role
const foundingPartners = people.filter(p => p.role.includes('Founding Partner'));
const advisors = people.filter(p => p.role.includes('Advisor'));
const others = people.filter(p => !p.role.includes('Founding Partner') && !p.role.includes('Advisor'));

// Build jump links based on available sections
const sections = [
  { id: 'founding-partners', label: 'Founding Partners', count: foundingPartners.length },
  { id: 'advisors', label: 'Advisors', count: advisors.length },
  { id: 'team', label: 'Team', count: others.length }
].filter(s => s.count > 0);
---
<Layout 
  title="Spades Institute | People" 
  description="Meet the leaders and advisors of Spades Institute, committed to advancing democracy, freedom, and ethics through trusted collaboration."
>
  <head slot="head">
    <link rel="canonical" href={`${siteUrl}${base}/people`} />
  </head>
  
  <Breadcrumbs items={[
    { label: 'Home', href: `${base}/` },
    { label: 'People', href: `${base}/people` }
  ]} />

  <!-- Hero -->
  <section class="bg-spades-ink-deep py-12 md:py-16 relative overflow-hidden">
    <div class="absolute inset-0 bg-hex-pattern opacity-30" aria-hidden="true"></div>
    
    <div class="max-w-4xl mx-auto px-6 text-center relative blur-reveal">
      <p class="text-xs uppercase tracking-widest text-spades-muted-light mb-4">People</p>
      <h1 class="text-heading-xl md:text-heading-2xl text-white not-italic">Our Team</h1>
      <p class="mt-4 text-lg text-dark-secondary max-w-xl mx-auto leading-relaxed">
        Leaders and advisors advancing nonpartisan, outcomes-driven collaboration.
      </p>
      
      <!-- Filter Pills -->
      <div class="mt-8 flex flex-wrap justify-center gap-3" role="group" aria-label="Filter by role">
        <button 
          type="button"
          data-filter="all"
          class="filter-pill active px-4 py-2 rounded-full border text-sm font-medium transition-colors"
        >
          All
        </button>
        <button 
          type="button"
          data-filter="founding-partner"
          class="filter-pill px-4 py-2 rounded-full border text-sm font-medium transition-colors"
        >
          Founding Partners
        </button>
        <button 
          type="button"
          data-filter="advisor"
          class="filter-pill px-4 py-2 rounded-full border text-sm font-medium transition-colors"
        >
          Advisors
        </button>
      </div>
    </div>
  </section>

  <!-- People Grid -->
  <section class="bg-spades-paper section-padding">
    <div class="max-w-5xl mx-auto px-6">
      <PeopleGrid people={people} />
    </div>
  </section>

  <!-- Get Involved Section -->
  <section class="bg-white section-padding border-t border-spades-border">
    <div class="max-w-3xl mx-auto px-6 text-center">
      <h2 class="text-heading-lg text-spades-text mb-4 not-italic">Get Involved</h2>
      <p class="text-body-lg text-spades-text-secondary mb-8">
        Interested in advising, partnering, or collaborating with us?
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <a href={`${base}/partner`} class="btn btn-primary">
          Partner with us
        </a>
        <a href={`${base}/connect`} class="btn btn-secondary">
          Get in touch
        </a>
      </div>
    </div>
  </section>
</Layout>

<style>
  .filter-pill {
    background-color: transparent;
    border-color: rgba(255, 255, 255, 0.2);
    color: rgba(255, 255, 255, 0.8);
  }
  
  .filter-pill:hover {
    background-color: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.4);
    color: white;
  }
  
  .filter-pill.active {
    background-color: white;
    border-color: white;
    color: #0f172a;
  }
</style>

