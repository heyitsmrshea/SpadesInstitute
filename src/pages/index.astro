---
import Layout from '../components/Layout.astro';
import Hero from '../components/Hero.astro';
import Section from '../components/Section.astro';
import CardGrid from '../components/CardGrid.astro';
import engagements from '../data/engagements.json';
const base = import.meta.env.BASE_URL.replace(/\/$/, '');
---
<Layout title="Spades Institute | Home">
  <Hero
    title="We connect government, industry, and academia to solve national security priorities."
    description="Through trusted, nonpartisan collaboration."
    proof="501(c)(3) · Washington, D.C. · Public/Private Convenings"
    primaryCta={{ href: `${base}/connect`, label: 'Partner with us' }}
    secondaryCta={{ href: `${base}/engagements`, label: 'View programs' }}
    tertiaryCta={{ href: 'https://givebutter.com/spadesinstitute', label: 'Donate' }}
    showMission={true}
  />

  <section class="border-y border-spades-border bg-white">
    <div class="max-w-6xl mx-auto px-6 py-7 flex flex-wrap items-center justify-center gap-x-3 gap-y-2 text-xs uppercase tracking-[0.28em] text-spades-muted">
      <span class="motion-safe:animate-fadeIn" style="animation-delay: 0ms">501(c)(3) nonprofit</span>
      <span aria-hidden="true" class="text-spades-muted/60 tracking-normal">·</span>
      <span class="motion-safe:animate-fadeIn" style="animation-delay: 100ms">Nonpartisan</span>
      <span aria-hidden="true" class="text-spades-muted/60 tracking-normal">·</span>
      <span class="motion-safe:animate-fadeIn" style="animation-delay: 200ms">Public/Private</span>
      <span aria-hidden="true" class="text-spades-muted/60 tracking-normal">·</span>
      <span class="motion-safe:animate-fadeIn" style="animation-delay: 300ms">Washington, D.C.</span>
      <span aria-hidden="true" class="text-spades-muted/60 tracking-normal">·</span>
      <span class="motion-safe:animate-fadeIn" style="animation-delay: 400ms">Ethics-first</span>
    </div>
  </section>

  <!-- What We Do Section -->
  <section class="bg-spades-ink text-white relative overflow-hidden">
    <div class="absolute inset-0 opacity-30" style="background-image: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.08), transparent 55%);" aria-hidden="true"></div>
    <div class="max-w-6xl mx-auto px-6 py-20 relative">
      <div class="text-center mb-16 motion-safe:animate-fadeUp">
        <h2 class="font-display text-4xl md:text-5xl lg:text-6xl italic leading-tight">What We Do</h2>
        <p class="mt-6 text-xl text-white/75 max-w-3xl mx-auto">
          Our work takes three forms: speaker series, fellowships, and strategic convenings that bridge sectors and deliver measurable outcomes.
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-8">
        {engagements.map((engagement, i) => (
          <a
            href={`${base}/engagements`}
            class="group relative bg-white/5 border border-white/10 rounded-xl p-8 hover:bg-white/10 hover:border-white/20 transition-all duration-300 motion-safe:animate-fadeIn"
            style={`animation-delay: ${i * 150}ms`}
          >
            <div class="mb-4">
              <p class="text-xs uppercase tracking-[0.4em] text-white/60 mb-2">{engagement.meta[0]}</p>
              <h3 class="font-display text-2xl md:text-3xl italic text-white mb-3 group-hover:text-white/90 transition-colors">
                {engagement.title}
              </h3>
            </div>
            <p class="text-white/75 text-sm leading-relaxed mb-6">{engagement.description}</p>
            <div class="flex items-center gap-2 text-sm text-white/85 group-hover:text-white transition-colors">
              <span>Learn more</span>
              <span aria-hidden="true" class="group-hover:translate-x-1 transition-transform">→</span>
            </div>
          </a>
        ))}
      </div>

      <div class="mt-16 text-center">
        <a href={`${base}/engagements`} class="btn btn-invert">
          View all programs
          <span aria-hidden="true">→</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Impact Section -->
  <section class="bg-spades-paper border-y border-spades-border">
    <div class="max-w-6xl mx-auto px-6 py-16">
      <div class="text-center mb-12 motion-safe:animate-fadeUp">
        <h2 class="font-display text-3xl md:text-4xl italic text-spades-ink">Our Impact</h2>
        <p class="mt-4 text-spades-muted max-w-2xl mx-auto">
          Building trust and delivering outcomes across government, industry, and academia.
        </p>
      </div>
      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center motion-safe:animate-fadeIn" style="animation-delay: 100ms">
          <div class="text-4xl md:text-5xl font-display italic text-spades-ink mb-2">Quarterly</div>
          <p class="text-sm uppercase tracking-[0.28em] text-spades-muted">Engagements hosted</p>
        </div>
        <div class="text-center motion-safe:animate-fadeIn" style="animation-delay: 200ms">
          <div class="text-4xl md:text-5xl font-display italic text-spades-ink mb-2">Bi-directional</div>
          <p class="text-sm uppercase tracking-[0.28em] text-spades-muted">Fellows placed</p>
        </div>
        <div class="text-center motion-safe:animate-fadeIn" style="animation-delay: 300ms">
          <div class="text-4xl md:text-5xl font-display italic text-spades-ink mb-2">Cross-sector</div>
          <p class="text-sm uppercase tracking-[0.28em] text-spades-muted">Partnerships</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="bg-spades-ink text-white relative overflow-hidden">
    <div class="absolute inset-0 opacity-25" style="background-image: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.08), transparent 55%);" aria-hidden="true"></div>
    <div class="max-w-6xl mx-auto px-6 py-20 text-center relative">
      <h2 class="font-display text-4xl md:text-5xl italic motion-safe:animate-fadeUp">Ready to collaborate?</h2>
      <p class="mt-6 text-xl text-white/75 max-w-2xl mx-auto motion-safe:animate-fadeIn" style="animation-delay: 200ms">
        Connect with us to explore partnership opportunities, propose an engagement, or learn more about our programs.
      </p>
      <div class="mt-10 flex flex-wrap gap-4 justify-center motion-safe:animate-fadeUp" style="animation-delay: 400ms">
        <a href={`${base}/connect`} class="btn btn-invert">
          Partner with us
        </a>
        <a href={`${base}/engagements`} class="btn btn-invert-outline">
          View programs
        </a>
      </div>
    </div>
  </section>
</Layout>
