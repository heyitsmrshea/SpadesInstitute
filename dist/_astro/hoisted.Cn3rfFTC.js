import"./hoisted.Dp3RlRfs.js";function v(){const a=new Date("2025-04-28T18:30:00-07:00").getTime(),n=new Date().getTime(),e=a-n;if(e>0){const t=Math.floor(e/864e5),r=Math.floor(e%(1e3*60*60*24)/(1e3*60*60)),i=Math.floor(e%(1e3*60*60)/(1e3*60)),f=document.getElementById("countdown-days"),c=document.getElementById("countdown-hours"),m=document.getElementById("countdown-mins");f&&(f.textContent=String(t).padStart(2,"0")),c&&(c.textContent=String(r).padStart(2,"0")),m&&(m.textContent=String(i).padStart(2,"0"))}}v();setInterval(v,6e4);const d=document.getElementById("heroMiniForm");d&&d.addEventListener("submit",async a=>{a.preventDefault();const n=new FormData(d),e=d.querySelector('button[type="submit"]');e&&(e.textContent="Transmitting...",e.disabled=!0);try{(await(await fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_key:"217a97ca-0557-4364-86f7-66e28fbd499f",subject:`RSA 2025 Quick Signup - ${n.get("name")}`,from_name:n.get("name"),email:n.get("email"),message:`Quick signup from hero form:

Name: ${n.get("name")}
Email: ${n.get("email")}
Organization: ${n.get("company")}

Events: Both (to be confirmed)`})})).json()).success&&(e&&(e.textContent="âœ“ Request Sent!"),d.reset(),setTimeout(()=>{e&&(e.textContent="Request Access Now",e.disabled=!1)},3e3))}catch{e&&(e.textContent="Error - Try Again",e.disabled=!1)}});document.querySelectorAll(".download-ics").forEach(a=>{a.addEventListener("click",()=>{const n=a.getAttribute("data-ics-content"),e=a.getAttribute("data-event-id");if(n){const t=new Blob([n],{type:"text/calendar;charset=utf-8"}),r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download=`spades-rsa-${e}.ics`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}})});const u=document.getElementById("rsaSignupForm"),g=document.getElementById("submit-btn"),y=document.getElementById("submit-text"),p=document.getElementById("submit-spinner"),b=document.getElementById("submit-arrow"),l=document.getElementById("form-success"),s=document.getElementById("form-error"),o=document.getElementById("error-message");u&&u.addEventListener("submit",async a=>{a.preventDefault(),l&&l.classList.add("hidden"),s&&s.classList.add("hidden");const n=new FormData(u),e=n.getAll("events"),t={name:String(n.get("name")||""),company:String(n.get("company")||""),email:String(n.get("email")||""),events:e};if(!t.name||!t.company||!t.email){s&&o&&(o.textContent="Please fill in all required fields.",s.classList.remove("hidden"));return}if(e.length===0){s&&o&&(o.textContent="Please select at least one event.",s.classList.remove("hidden"));return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){s&&o&&(o.textContent="Please enter a valid email address.",s.classList.remove("hidden"));return}g&&(g.disabled=!0),y&&(y.textContent="Transmitting..."),p&&p.classList.remove("hidden"),b&&b.classList.add("hidden");try{const i=e.map(h=>h==="dinner"?"Mission Brief: Dinner (April 28)":h==="breakfast"?"Mission Brief: Breakfast (April 29)":h).join(", "),f=`
RSA Conference 2025 Event Signup

Name: ${t.name}
Organization: ${t.company}
Email: ${t.email}
Selected Events: ${i}

Submitted via RSA signup page
          `.trim(),c=await fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_key:"217a97ca-0557-4364-86f7-66e28fbd499f",subject:`RSA 2025 Event Signup - ${t.name} (${t.company})`,from_name:t.name,email:t.email,replyto:t.email,message:f})}),m=await c.json();c.ok&&m.success?(l&&l.classList.remove("hidden"),u.reset(),l?.scrollIntoView({behavior:"smooth",block:"nearest"})):s&&o&&(o.textContent=m.message||"Transmission failed. Please try again.",s.classList.remove("hidden"))}catch{s&&o&&(o.textContent="Network error. Please check your connection and try again.",s.classList.remove("hidden"))}finally{g&&(g.disabled=!1),y&&(y.textContent="Submit Access Request"),p&&p.classList.add("hidden"),b&&b.classList.remove("hidden")}});
