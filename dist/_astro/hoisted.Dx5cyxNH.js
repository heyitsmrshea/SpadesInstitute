import"./hoisted.Dp3RlRfs.js";document.querySelectorAll(".download-ics").forEach(a=>{a.addEventListener("click",()=>{const i=a.getAttribute("data-ics-content"),o=a.getAttribute("data-event-id");if(i){const e=new Blob([i],{type:"text/calendar;charset=utf-8"}),u=URL.createObjectURL(e),s=document.createElement("a");s.href=u,s.download=`spades-rsa-${o}.ics`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(u)}})});const c=document.getElementById("rsaSignupForm"),d=document.getElementById("submit-btn"),m=document.getElementById("submit-text"),l=document.getElementById("submit-spinner"),f=document.getElementById("submit-arrow"),r=document.getElementById("form-success"),t=document.getElementById("form-error"),n=document.getElementById("error-message");c&&c.addEventListener("submit",async a=>{a.preventDefault(),r&&r.classList.add("hidden"),t&&t.classList.add("hidden");const i=new FormData(c),o=i.getAll("events"),e={name:String(i.get("name")||""),company:String(i.get("company")||""),email:String(i.get("email")||""),events:o};if(!e.name||!e.company||!e.email){t&&n&&(n.textContent="Please fill in all required fields.",t.classList.remove("hidden"));return}if(o.length===0){t&&n&&(n.textContent="Please select at least one event.",t.classList.remove("hidden"));return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)){t&&n&&(n.textContent="Please enter a valid email address.",t.classList.remove("hidden"));return}d&&(d.disabled=!0),m&&(m.textContent="Transmitting..."),l&&l.classList.remove("hidden"),f&&f.classList.add("hidden");try{const s=o.map(g=>g==="dinner"?"Mission Brief: Dinner (April 28)":g==="breakfast"?"Mission Brief: Breakfast (April 29)":g).join(", "),y=`
RSA Conference 2025 Event Signup

Name: ${e.name}
Organization: ${e.company}
Email: ${e.email}
Selected Events: ${s}

Submitted via RSA signup page
          `.trim(),b=await fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_key:"217a97ca-0557-4364-86f7-66e28fbd499f",subject:`RSA 2025 Event Signup - ${e.name} (${e.company})`,from_name:e.name,email:e.email,replyto:e.email,message:y})}),p=await b.json();b.ok&&p.success?(r&&r.classList.remove("hidden"),c.reset(),r?.scrollIntoView({behavior:"smooth",block:"nearest"})):t&&n&&(n.textContent=p.message||"Transmission failed. Please try again.",t.classList.remove("hidden"))}catch{t&&n&&(n.textContent="Network error. Please check your connection and try again.",t.classList.remove("hidden"))}finally{d&&(d.disabled=!1),m&&(m.textContent="Submit Access Request"),l&&l.classList.add("hidden"),f&&f.classList.remove("hidden")}});
